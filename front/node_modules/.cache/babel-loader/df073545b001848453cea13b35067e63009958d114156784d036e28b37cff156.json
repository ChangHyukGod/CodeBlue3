{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, vShow as _vShow, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"modal fade\",\n  id: \"updatePasswordModal\",\n  tabindex: \"-1\",\n  \"aria-labelledby\": \"updatePasswordModalLabel\",\n  \"aria-hidden\": \"true\",\n  \"<!--\": \"\",\n  모달이: \"\",\n  보이는: \"\",\n  상태를: \"\",\n  제어: \"\",\n  \"--\": \"\"\n};\nconst _hoisted_2 = {\n  class: \"modal-dialog\"\n};\nconst _hoisted_3 = {\n  class: \"modal-content\"\n};\nconst _hoisted_4 = {\n  class: \"modal-header\"\n};\nconst _hoisted_5 = {\n  class: \"modal-body\"\n};\nconst _hoisted_6 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"form-group mb-3\"\n};\nconst _hoisted_9 = {\n  class: \"modal-footer\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _directive_show47196 = _resolveDirective(\"show로\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createCommentVNode(\" 로그인 화면 모달 \"), _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[10] || (_cache[10] = _createTextVNode(\" > \")), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"h5\", {\n    class: \"modal-title\",\n    id: \"updatePasswordModalLabel\"\n  }, \"비밀번호 변경\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.closeModal && $options.closeModal(...args)),\n    \"<!--\": \"\",\n    모달: \"\",\n    닫기: \"\",\n    \"--\": \"\"\n  }, \" aria-label=\\\"Close\\\" >\")]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"이메일\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"updatePassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.updatePasswordData.email = $event),\n    placeholder: \"이메일을 입력하세요.\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.updatePasswordData.email]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"주민등록번호\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"updatePassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.updatePasswordData.ssn = $event),\n    placeholder: \"주민등록번호를 입력하세요.\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.updatePasswordData.ssn]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"updatePassword\"\n  }, \"변경할 비밀번호\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"updatePassword\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.updatePasswordData.password = $event),\n    placeholder: \"변경할 비밀번호를 입력하세요.\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.updatePasswordData.password]])])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-secondary\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.closeModal && $options.closeModal(...args)),\n    \"<!--\": \"\",\n    모달: \"\",\n    닫기: \"\",\n    \"--\": \"\"\n  }, \" > 닫기 \"), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.updatePassword && $options.updatePassword(...args))\n  }, \" 변경 \")])])])])), [[_vShow, $data.isModalVisible], [_directive_show47196]])]);\n}","map":{"version":3,"names":["class","id","tabindex","모달이","보이는","상태를","제어","_createElementBlock","_createCommentVNode","_hoisted_1","_createTextVNode","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","_cache","args","$options","closeModal","모달","닫기","_hoisted_5","_hoisted_6","for","$event","$data","updatePasswordData","email","placeholder","_hoisted_7","ssn","_hoisted_8","password","_hoisted_9","updatePassword","isModalVisible"],"sources":["C:\\Users\\82107\\OneDrive\\문서\\GitHub\\CodeBlue2\\Codeblue\\front\\src\\views\\auth\\LoginView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- 로그인 화면 모달 -->\r\n    <div\r\n      class=\"modal fade\"\r\n      id=\"updatePasswordModal\"\r\n      tabindex=\"-1\"\r\n      aria-labelledby=\"updatePasswordModalLabel\"\r\n      aria-hidden=\"true\"\r\n      v-show=\"isModalVisible\" <!-- 모달이 보이는 상태를 v-show로 제어 -->\r\n    >\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\" id=\"updatePasswordModalLabel\">비밀번호 변경</h5>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn-close\"\r\n              @click=\"closeModal\" <!-- 모달 닫기 -->\r\n              aria-label=\"Close\"\r\n            ></button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"email\">이메일</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"updatePassword\"\r\n                class=\"form-control\"\r\n                v-model=\"updatePasswordData.email\"\r\n                placeholder=\"이메일을 입력하세요.\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"name\">주민등록번호</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"updatePassword\"\r\n                class=\"form-control\"\r\n                v-model=\"updatePasswordData.ssn\"\r\n                placeholder=\"주민등록번호를 입력하세요.\"\r\n              />\r\n            </div>\r\n            <div class=\"form-group mb-3\">\r\n              <label for=\"updatePassword\">변경할 비밀번호</label>\r\n              <input\r\n                type=\"password\"\r\n                id=\"updatePassword\"\r\n                class=\"form-control\"\r\n                v-model=\"updatePasswordData.password\"\r\n                placeholder=\"변경할 비밀번호를 입력하세요.\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-secondary\"\r\n              @click=\"closeModal\" <!-- 모달 닫기 -->\r\n            >\r\n              닫기\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              @click=\"updatePassword\"\r\n            >\r\n              변경\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberService from \"@/services/auth/MemberService\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        email: \"\",\r\n        password: \"\",\r\n      },\r\n\r\n      errorMessage: \"\", // 에러 메시지 상태 관리\r\n\r\n      findEmailData: {\r\n        name: \"\", // 이름\r\n        ssn: \"\", // 주민번호\r\n      },\r\n\r\n      updatePasswordData: {\r\n        email: \"\", // 이메일\r\n        ssn: \"\", // 주민번호\r\n        password: \"\", // 변경할 비밀번호\r\n      },\r\n\r\n      isModalVisible: false, // 모달 상태 변수 추가\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        let response = await MemberService.login(this.user);\r\n        console.log(response.data);\r\n\r\n        this.$store.state.loggedIn = true;\r\n\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n\r\n        this.errorMessage = \"\"; // 에러 메시지 초기화\r\n\r\n        this.$router.push(\"/\");\r\n      } catch (error) {\r\n        this.$store.state.loggedIn = false;\r\n\r\n        this.errorMessage = `\r\n          로그인에 실패했습니다.<br />\r\n          아이디 또는 비밀번호를 맞게 입력해 주세요.\r\n        `;\r\n\r\n        console.log(error);\r\n      }\r\n    },\r\n\r\n    // 비밀번호 변경 함수\r\n    async updatePassword() {\r\n      try {\r\n        let response = await MemberService.updatePassword(\r\n          this.updatePasswordData\r\n        );\r\n        alert(`${response.data}`);\r\n\r\n        // 비밀번호 변경 후 모달 닫기\r\n        this.isModalVisible = false; // 상태로 모달 숨기기\r\n\r\n        this.$router.push(\"/\"); // 페이지 이동\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n        alert(\"비밀번호를 변경할 수 없습니다.\");\r\n      }\r\n    },\r\n\r\n    // 모달 닫기\r\n    closeModal() {\r\n      this.isModalVisible = false; // 모달 숨기기\r\n    },\r\n\r\n    // 모달 열기\r\n    openModal() {\r\n      this.isModalVisible = true; // 모달 열기\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    if (this.$store.state.loggedIn === true) {\r\n      this.$router.push(\"/\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 모달 관련 스타일 추가 */\r\n.modal-content {\r\n  border-radius: 15px;\r\n  padding: 20px;\r\n}\r\n.modal-header {\r\n  border-bottom: none;\r\n}\r\n.modal-footer {\r\n  border-top: none;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}