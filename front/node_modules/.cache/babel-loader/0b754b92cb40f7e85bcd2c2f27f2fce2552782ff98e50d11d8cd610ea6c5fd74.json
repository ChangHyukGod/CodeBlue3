{"ast":null,"code":"// 프론트 코딩 : 벡엔드(변수들 보내고) -> 벡엔드(sql 결과 리턴)\n//              -> 프론트(json 반복문으로 화면출력)\n// @ == src 폴더위치(절대경로)\nimport DeptService from \"@/services/basic/DeptService\";\nexport default {\n  data() {\n    return {\n      pageIndex: 1,\n      // 현재페이지번호\n      totalCount: 0,\n      // 전체개수\n      recodeCountPerPage: 3,\n      // 화면에보일개수\n      searchKeyword: \"\",\n      // 검색어\n      depts: [] // 빈배열(json)\n    };\n  },\n  methods: {\n    // 함수 작성 : (비동기 코딩: async/await)\n    // (복습) : 뷰함수 앞에 : async, axios 함수 앞에 : await\n    async getDept() {\n      try {\n        let response = await DeptService.getAll(this.searchKeyword, this.pageIndex - 1, this.recodeCountPerPage);\n        // TODO: 벡엔드 전송되는것: results(배열), totalCount(총개수)\n        const {\n          results,\n          totalCount\n        } = response.data;\n        console.log(response.data); // 디버깅\n        this.depts = results;\n        this.totalCount = totalCount;\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  },\n  // 화면이 뜰때 실행하는 함수\n  mounted() {\n    this.getDept();\n  }\n};","map":{"version":3,"names":["DeptService","data","pageIndex","totalCount","recodeCountPerPage","searchKeyword","depts","methods","getDept","response","getAll","results","console","log","error","mounted"],"sources":["D:\\Work\\10_Springboot\\04_Login\\frontend\\src\\views\\basic\\dept\\DeptView.vue"],"sourcesContent":["// views-basic-dept/DeptView.vue // vueInit\r\n<template>\r\n  <div>\r\n    <!-- TODO: 검색어 입력상자 -->\r\n    <div class=\"input-group mb-3\">\r\n      <input\r\n        type=\"text\"\r\n        class=\"form-control\"\r\n        placeholder=\"검색어\"\r\n        v-model=\"searchKeyword\"\r\n      />\r\n      <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"getDept\">\r\n        검색\r\n      </button>\r\n    </div>\r\n    <!-- TODO: 부트스트랩 테이블 -->\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">dno</th>\r\n          <th scope=\"col\">dname</th>\r\n          <th scope=\"col\">loc</th>\r\n          <th scope=\"col\">action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <!-- TODO: 반복문 : depts -->\r\n        <tr v-for=\"(data, index) in depts\" :key=\"index\">\r\n          <td>{{ data.dno }}</td>\r\n          <td>{{ data.dname }}</td>\r\n          <td>{{ data.loc }}</td>\r\n          <td>\r\n            <!-- a태그, router-link태그 -->\r\n            <router-link :to='\"/dept/\" + data.dno'>\r\n              <span class=\"badge text-bg-success\">수정</span>\r\n            </router-link>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <!-- TODO: 페이지 번호 : 부트스트랩뷰(페이지)  -->\r\n    <div>\r\n      <!-- TODO: v-model=\"뷰변수(현재페이지번호)\"\r\n                 ,total-rows=\"전체개수\"\r\n                 ,per-page=\"1페이지당화면에보일개수\"\r\n                    -->\r\n      <b-pagination\r\n        v-model=\"pageIndex\"\r\n        :total-rows=\"totalCount\"\r\n        :per-page=\"recodeCountPerPage\"\r\n        @click=\"getDept\"\r\n      ></b-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// 프론트 코딩 : 벡엔드(변수들 보내고) -> 벡엔드(sql 결과 리턴)\r\n//              -> 프론트(json 반복문으로 화면출력)\r\n// @ == src 폴더위치(절대경로)\r\nimport DeptService from \"@/services/basic/DeptService\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageIndex: 1, // 현재페이지번호\r\n      totalCount: 0, // 전체개수\r\n      recodeCountPerPage: 3, // 화면에보일개수\r\n      searchKeyword: \"\", // 검색어\r\n      depts: [], // 빈배열(json)\r\n    };\r\n  },\r\n  methods: {\r\n    // 함수 작성 : (비동기 코딩: async/await)\r\n    // (복습) : 뷰함수 앞에 : async, axios 함수 앞에 : await\r\n    async getDept() {\r\n      try {\r\n        let response = await DeptService.getAll(\r\n          this.searchKeyword,\r\n          this.pageIndex - 1,\r\n          this.recodeCountPerPage\r\n        );\r\n        // TODO: 벡엔드 전송되는것: results(배열), totalCount(총개수)\r\n        const { results, totalCount } = response.data;\r\n        console.log(response.data); // 디버깅\r\n        this.depts = results;\r\n        this.totalCount = totalCount;\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n  },\r\n  // 화면이 뜰때 실행하는 함수\r\n  mounted() {\r\n    this.getDept();\r\n  },\r\n};\r\n</script>\r\n<style></style>\r\n"],"mappings":"AAwDA;AACA;AACA;AACA,OAAOA,WAAU,MAAO,8BAA8B;AACtD,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,CAAC;MAAE;MACdC,UAAU,EAAE,CAAC;MAAE;MACfC,kBAAkB,EAAE,CAAC;MAAE;MACvBC,aAAa,EAAE,EAAE;MAAE;MACnBC,KAAK,EAAE,EAAE,CAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACA;IACA,MAAMC,OAAOA,CAAA,EAAG;MACd,IAAI;QACF,IAAIC,QAAO,GAAI,MAAMT,WAAW,CAACU,MAAM,CACrC,IAAI,CAACL,aAAa,EAClB,IAAI,CAACH,SAAQ,GAAI,CAAC,EAClB,IAAI,CAACE,kBACP,CAAC;QACD;QACA,MAAM;UAAEO,OAAO;UAAER;QAAW,IAAIM,QAAQ,CAACR,IAAI;QAC7CW,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAACR,IAAI,CAAC,EAAE;QAC5B,IAAI,CAACK,KAAI,GAAIK,OAAO;QACpB,IAAI,CAACR,UAAS,GAAIA,UAAU;MAC9B,EAAE,OAAOW,KAAK,EAAE;QACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;MACpB;IACF;EACF,CAAC;EACD;EACAC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACP,OAAO,CAAC,CAAC;EAChB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}