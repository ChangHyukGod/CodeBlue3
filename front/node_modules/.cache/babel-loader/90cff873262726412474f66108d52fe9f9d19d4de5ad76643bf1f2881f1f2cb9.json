{"ast":null,"code":"// services/advanced/FileDbService.js\nimport axios from \"axios\";\nconst baseURL = \"http://localhost:8000/api\";\nlet user = JSON.parse(localStorage.getItem(\"user\"));\n// 조회용\nconst token = {\n  Authorization: \"Bearer \" + user?.accessToken\n};\n// insert/update 용\nconst token2 = {\n  \"Content-Type\": \"multipart/form-data\",\n  Authorization: \"Bearer \" + user?.accessToken\n};\n\n// 전체조회\nconst getAll = (searchKeyword, pageIndex, recordCountPerPage) => {\n  return axios.get(baseURL + `/advanced/fileDb?searchKeyword=${searchKeyword}&pageIndex=${pageIndex}&recordCountPerPage=${recordCountPerPage}`, {\n    headers: token\n  });\n};\n// insert(upload)\n// form 태그 : input 양식, multipart 전송\n// TODO: form 태그 == FormData 객체\nconst insertForm = data => {\n  console.log(data);\n  // FormData 객체 생성\n  let formData = new FormData();\n  // FormData 객체에 넣기 : .append(키(벡엔드변수명), 값)\n  formData.append(\"fileTitle\", data.fileTitle);\n  formData.append(\"fileContent\", data.fileContent);\n  formData.append(\"image\", data.image);\n  return formData;\n};\n// insert 함수\n// 다운로드 함수 : 첨부파일입니다.(헤더명시)\nconst insert = data => {\n  let form = insertForm(data);\n  return axios.post(baseURL + \"/advanced/fileDb/add\", form, {\n    headers: token2\n  });\n};\n\n// 상세 조회 : 기본키(uuid)\nconst get = uuid => {\n  return axios.get(baseURL + `/advanced/fileDb/get/${uuid}`, {\n    headers: token\n  });\n};\n// 수정 \nconst update = (uuid, data) => {\n  let form = insertForm(data);\n  return axios.put(baseURL + `/advanced/fileDb/update/${uuid}`, form, {\n    headers: token2\n  });\n};\n// 삭제\nconst remove = uuid => {\n  return axios.delete(baseURL + `/advanced/fileDb/deletion/${uuid}`, {\n    headers: token\n  });\n};\nconst FileDbService = {\n  getAll,\n  insert,\n  get,\n  update,\n  remove\n};\nexport default FileDbService;","map":{"version":3,"names":["axios","baseURL","user","JSON","parse","localStorage","getItem","token","Authorization","accessToken","token2","getAll","searchKeyword","pageIndex","recordCountPerPage","get","headers","insertForm","data","console","log","formData","FormData","append","fileTitle","fileContent","image","insert","form","post","uuid","update","put","remove","delete","FileDbService"],"sources":["D:/Work/10_Springboot/04_Login/frontend/src/services/advanced/FileDbService.js"],"sourcesContent":["// services/advanced/FileDbService.js\r\nimport axios from \"axios\";\r\nconst baseURL = \"http://localhost:8000/api\";\r\n\r\nlet user = JSON.parse(localStorage.getItem(\"user\"));\r\n// 조회용\r\nconst token = { Authorization: \"Bearer \"+ user?.accessToken };\r\n// insert/update 용\r\nconst token2 = { \"Content-Type\": \"multipart/form-data\", Authorization: \"Bearer \"+ user?.accessToken };\r\n\r\n// 전체조회\r\nconst getAll = (searchKeyword, pageIndex, recordCountPerPage) => {\r\n  return axios.get(\r\n    baseURL +\r\n      `/advanced/fileDb?searchKeyword=${searchKeyword}&pageIndex=${pageIndex}&recordCountPerPage=${recordCountPerPage}`, {headers: token}\r\n  );\r\n};\r\n// insert(upload)\r\n// form 태그 : input 양식, multipart 전송\r\n// TODO: form 태그 == FormData 객체\r\nconst insertForm = (data)=>{\r\n  console.log(data)\r\n  // FormData 객체 생성\r\n  let formData = new FormData();\r\n  // FormData 객체에 넣기 : .append(키(벡엔드변수명), 값)\r\n  formData.append(\"fileTitle\", data.fileTitle);\r\n  formData.append(\"fileContent\", data.fileContent);\r\n  formData.append(\"image\", data.image);\r\n\r\n  return formData;\r\n}\r\n// insert 함수\r\n// 다운로드 함수 : 첨부파일입니다.(헤더명시)\r\nconst insert = (data) => {\r\n  let form = insertForm(data);\r\n  return axios.post(baseURL+\"/advanced/fileDb/add\", form, {headers: token2}\r\n  );\r\n}\r\n\r\n// 상세 조회 : 기본키(uuid)\r\nconst get = (uuid)=>{\r\n  return axios.get(baseURL+`/advanced/fileDb/get/${uuid}`, {headers: token});\r\n}\r\n// 수정 \r\nconst update = (uuid, data)=>{\r\n  let form = insertForm(data);\r\n  return axios.put(baseURL+`/advanced/fileDb/update/${uuid}`, form, {headers: token2}\r\n  );  \r\n}\r\n// 삭제\r\nconst remove = (uuid)=>{\r\n  return axios.delete(baseURL+`/advanced/fileDb/deletion/${uuid}`, {headers: token});\r\n}\r\nconst FileDbService = {\r\n    getAll,\r\n    insert,\r\n    get,\r\n    update,\r\n    remove\r\n}\r\nexport default FileDbService;\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,IAAIC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD;AACA,MAAMC,KAAK,GAAG;EAAEC,aAAa,EAAE,SAAS,GAAEN,IAAI,EAAEO;AAAY,CAAC;AAC7D;AACA,MAAMC,MAAM,GAAG;EAAE,cAAc,EAAE,qBAAqB;EAAEF,aAAa,EAAE,SAAS,GAAEN,IAAI,EAAEO;AAAY,CAAC;;AAErG;AACA,MAAME,MAAM,GAAGA,CAACC,aAAa,EAAEC,SAAS,EAAEC,kBAAkB,KAAK;EAC/D,OAAOd,KAAK,CAACe,GAAG,CACdd,OAAO,GACL,kCAAkCW,aAAa,cAAcC,SAAS,uBAAuBC,kBAAkB,EAAE,EAAE;IAACE,OAAO,EAAET;EAAK,CACtI,CAAC;AACH,CAAC;AACD;AACA;AACA;AACA,MAAMU,UAAU,GAAIC,IAAI,IAAG;EACzBC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;EACjB;EACA,IAAIG,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC7B;EACAD,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEL,IAAI,CAACM,SAAS,CAAC;EAC5CH,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEL,IAAI,CAACO,WAAW,CAAC;EAChDJ,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEL,IAAI,CAACQ,KAAK,CAAC;EAEpC,OAAOL,QAAQ;AACjB,CAAC;AACD;AACA;AACA,MAAMM,MAAM,GAAIT,IAAI,IAAK;EACvB,IAAIU,IAAI,GAAGX,UAAU,CAACC,IAAI,CAAC;EAC3B,OAAOlB,KAAK,CAAC6B,IAAI,CAAC5B,OAAO,GAAC,sBAAsB,EAAE2B,IAAI,EAAE;IAACZ,OAAO,EAAEN;EAAM,CACxE,CAAC;AACH,CAAC;;AAED;AACA,MAAMK,GAAG,GAAIe,IAAI,IAAG;EAClB,OAAO9B,KAAK,CAACe,GAAG,CAACd,OAAO,GAAC,wBAAwB6B,IAAI,EAAE,EAAE;IAACd,OAAO,EAAET;EAAK,CAAC,CAAC;AAC5E,CAAC;AACD;AACA,MAAMwB,MAAM,GAAGA,CAACD,IAAI,EAAEZ,IAAI,KAAG;EAC3B,IAAIU,IAAI,GAAGX,UAAU,CAACC,IAAI,CAAC;EAC3B,OAAOlB,KAAK,CAACgC,GAAG,CAAC/B,OAAO,GAAC,2BAA2B6B,IAAI,EAAE,EAAEF,IAAI,EAAE;IAACZ,OAAO,EAAEN;EAAM,CAClF,CAAC;AACH,CAAC;AACD;AACA,MAAMuB,MAAM,GAAIH,IAAI,IAAG;EACrB,OAAO9B,KAAK,CAACkC,MAAM,CAACjC,OAAO,GAAC,6BAA6B6B,IAAI,EAAE,EAAE;IAACd,OAAO,EAAET;EAAK,CAAC,CAAC;AACpF,CAAC;AACD,MAAM4B,aAAa,GAAG;EAClBxB,MAAM;EACNgB,MAAM;EACNZ,GAAG;EACHgB,MAAM;EACNE;AACJ,CAAC;AACD,eAAeE,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}